{"ast":null,"code":"import _asyncToGenerator from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import Card from'./components/Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=1&pagesize=10\";_context.next=3;return fetch(url);case 3:data=_context.sent;_context.next=6;return data.json();case 6:parsedData=_context.sent;_this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.prevClickHandler=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=\".concat(_this.state.page-1,\"&pagesize=10\");_context2.next=3;return fetch(url);case 3:data=_context2.sent;_context2.next=6;return data.json();case 6:parsedData=_context2.sent;_this.setState({articles:parsedData.articles,page:_this.state.page-1});case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.nextClickHandler=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(_this.state.page+1>Math.ceil(_this.state.totalResults/10))){_context3.next=3;break;}_context3.next=11;break;case 3:url=\"https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=\".concat(_this.state.page+1,\"&pagesize=10\");_context3.next=6;return fetch(url);case 6:data=_context3.sent;_context3.next=9;return data.json();case 9:parsedData=_context3.sent;_this.setState({articles:parsedData.articles,page:_this.state.page+1});case 11:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={articles:[],page:1};return _this;}_createClass(Home,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.articles.map(function(item){return/*#__PURE__*/_jsx(Card,{title:item.title,description:item.description,imgUrl:item.urlToImage,newsUrl:item.url},item.description);}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light\",disabled:this.state.page<=1,onClick:this.prevClickHandler,children:\" \\u2190 Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light\",disabled:this.state.page+1>Math.ceil,onClick:this.nextClickHandler,children:\"Next \\u2192\"})})]})})]});}}]);return Home;}(Component);export{Home as default};","map":{"version":3,"sources":["/home/new/Desktop/react/apicall/src/Home.jsx"],"names":["React","Component","Card","Home","componentDidMount","url","fetch","data","json","parsedData","setState","articles","totalResults","prevClickHandler","state","page","nextClickHandler","Math","ceil","map","item","title","description","urlToImage"],"mappings":"irBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,C,2FAEqBC,CAAAA,I,4FAEjB,eAAc,sCACV,wBADU,MAQdC,iBARc,sEAQM,2JACZC,GADY,CACN,8HADM,uBAECC,CAAAA,KAAK,CAACD,GAAD,CAFN,QAEZE,IAFY,qCAGOA,CAAAA,IAAI,CAACC,IAAL,EAHP,QAGZC,UAHY,eAIhB,MAAKC,QAAL,CAAc,CAAEC,QAAQ,CAAEF,UAAU,CAACE,QAAvB,CAAiCC,YAAY,CAAEH,UAAU,CAACG,YAA1D,CAAd,EAJgB,sDARN,SAedC,gBAfc,sEAeK,gKACXR,GADW,0HAC6G,MAAKS,KAAL,CAAWC,IAAX,CAAkB,CAD/H,wCAEET,CAAAA,KAAK,CAACD,GAAD,CAFP,QAEXE,IAFW,uCAGQA,CAAAA,IAAI,CAACC,IAAL,EAHR,QAGXC,UAHW,gBAIf,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAEF,UAAU,CAACE,QADX,CAEVI,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAAX,CAAkB,CAFd,CAAd,EAJe,wDAfL,SAyBdC,gBAzBc,sEAyBK,qKACX,MAAKF,KAAL,CAAWC,IAAX,CAAkB,CAAlB,CAAsBE,IAAI,CAACC,IAAL,CAAU,MAAKJ,KAAL,CAAWF,YAAX,CAA0B,EAApC,CADX,0DAKPP,GALO,0HAKiH,MAAKS,KAAL,CAAWC,IAAX,CAAkB,CALnI,wCAMMT,CAAAA,KAAK,CAACD,GAAD,CANX,QAMPE,IANO,uCAOYA,CAAAA,IAAI,CAACC,IAAL,EAPZ,QAOPC,UAPO,gBAQX,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAEF,UAAU,CAACE,QADX,CAEVI,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAAX,CAAkB,CAFd,CAAd,EARW,yDAzBL,GAEV,MAAKD,KAAL,CAAa,CACTH,QAAQ,CAAE,EADD,CAETI,IAAI,CAAE,CAFG,CAAb,CAFU,aAMb,C,uCAkCD,iBAAS,CACL,mBACI,uBACK,KAAKD,KAAL,CAAWH,QAAX,CAAoBQ,GAApB,CAAwB,SAACC,IAAD,qBACrB,KAAC,IAAD,EAA6B,KAAK,CAAEA,IAAI,CAACC,KAAzC,CAAgD,WAAW,CAAED,IAAI,CAACE,WAAlE,CAA+E,MAAM,CAAEF,IAAI,CAACG,UAA5F,CAAwG,OAAO,CAAEH,IAAI,CAACf,GAAtH,EAAWe,IAAI,CAACE,WAAhB,CADqB,EAAxB,CADL,cAKI,YAAK,aAAW,yBAAhB,uBACI,YAAI,SAAS,CAAC,qDAAd,wBACI,WAAI,SAAS,CAAC,WAAd,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uBAAhC,CAAwD,QAAQ,CAAE,KAAKR,KAAL,CAAWC,IAAX,EAAmB,CAArF,CAAwF,OAAO,CAAE,KAAKF,gBAAtG,8BADJ,EADJ,cAII,WAAI,SAAS,CAAC,WAAd,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uBAAhC,CAAwD,QAAQ,CAAE,KAAKC,KAAL,CAAWC,IAAX,CAAkB,CAAlB,CAAuBE,IAAI,CAACC,IAA9F,CAAqG,OAAO,CAAE,KAAKF,gBAAnH,yBADJ,EAJJ,GADJ,EALJ,GADJ,CAkBH,C,kBA7D6Bf,S,SAAbE,I","sourcesContent":["import React, { Component } from 'react';\nimport Card from './components/Card';\n\nexport default class Home extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            articles: [],\n            page: 1\n        }\n    }\n\n    componentDidMount = async () => {\n        let url = \"https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=1&pagesize=10\";\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        this.setState({ articles: parsedData.articles, totalResults: parsedData.totalResults });\n    };\n\n    prevClickHandler = async () => {\n        let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=${this.state.page - 1}&pagesize=10`;\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        this.setState({\n            articles: parsedData.articles,\n            page: this.state.page - 1\n        });\n    };\n\n    nextClickHandler = async () => {\n        if (this.state.page + 1 > Math.ceil(this.state.totalResults / 10)) {\n\n        }\n        else {\n            let url = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=928306523b81417ab3d4375bce7485b0&page=${this.state.page + 1}&pagesize=10`;\n            let data = await fetch(url);\n            let parsedData = await data.json();\n            this.setState({\n                articles: parsedData.articles,\n                page: this.state.page + 1\n            });\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                {this.state.articles.map((item) =>\n                    <Card key={item.description} title={item.title} description={item.description} imgUrl={item.urlToImage} newsUrl={item.url} />\n                )}\n\n                <nav aria-label=\"Page navigation example\">\n                    <ul className=\"pagination container d-flex justify-content-between\">\n                        <li className=\"page-item\">\n                            <button type='button' className=\"btn btn-outline-light\" disabled={this.state.page <= 1} onClick={this.prevClickHandler}> &larr; Previous</button>\n                        </li>\n                        <li className=\"page-item\">\n                            <button type='button' className=\"btn btn-outline-light\" disabled={this.state.page + 1 > (Math.ceil)} onClick={this.nextClickHandler}>Next &rarr;</button>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}