{"ast":null,"code":"import _asyncToGenerator from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/new/Desktop/react/apicall/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Body=/*#__PURE__*/function(_Component){_inherits(Body,_Component);var _super=_createSuper(Body);function Body(){var _this;_classCallCheck(this,Body);_this=_super.call(this);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=1&pagesize=10';_context.next=3;return fetch(url);case 3:data=_context.sent;_context.next=6;return data.json();case 6:parsedData=_context.sent;_this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.prevClickHandler=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=\".concat(_this.state.page-1,\"&pagesize=10\");_context2.next=3;return fetch(url);case 3:data=_context2.sent;_context2.next=6;return data.json();case 6:parsedData=_context2.sent;_this.setState({page:_this.state.page-1,articles:parsedData.articles});case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.nextClickHandler=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(_this.state.page+1>Math.ceil(_this.state.totalResults/10))){_context3.next=3;break;}_context3.next=11;break;case 3:url=\"https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=\".concat(_this.state.page+1,\"&pagesize=10\");_context3.next=6;return fetch(url);case 6:data=_context3.sent;_context3.next=9;return data.json();case 9:parsedData=_context3.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles});case 11:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={articles:[],page:1};return _this;}_createClass(Body,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.articles.map(function(item){return/*#__PURE__*/_jsx(Card,{imgUrl:item.urlToImage,newsUrl:item.url,title:item.title,description:item.description},item.description);}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light\",disabled:this.state.page<=1,onClick:this.prevClickHandler,children:\" \\u2190 Previous\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-light\",onClick:this.nextClickHandler,children:\"Next \\u2192\"})})]})})]});}}]);return Body;}(Component);export default Body;","map":{"version":3,"sources":["/home/new/Desktop/react/apicall/src/components/UsBussiness.js"],"names":["React","Component","Card","Body","componentDidMount","url","fetch","data","json","parsedData","setState","articles","totalResults","prevClickHandler","state","page","nextClickHandler","Math","ceil","map","item","urlToImage","title","description"],"mappings":"irBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,2FAEMC,CAAAA,I,4FAEF,eAAc,sCACV,wBADU,MAQdC,iBARc,sEAQM,2JACZC,GADY,CACN,+HADM,uBAECC,CAAAA,KAAK,CAACD,GAAD,CAFN,QAEZE,IAFY,qCAGOA,CAAAA,IAAI,CAACC,IAAL,EAHP,QAGZC,UAHY,eAIhB,MAAKC,QAAL,CAAc,CAAEC,QAAQ,CAAEF,UAAU,CAACE,QAAvB,CAAiCC,YAAY,CAAEH,UAAU,CAACG,YAA1D,CAAd,EAJgB,sDARN,SAedC,gBAfc,sEAeK,gKACXR,GADW,2HAC8G,MAAKS,KAAL,CAAWC,IAAX,CAAkB,CADhI,wCAEET,CAAAA,KAAK,CAACD,GAAD,CAFP,QAEXE,IAFW,uCAGQA,CAAAA,IAAI,CAACC,IAAL,EAHR,QAGXC,UAHW,gBAIf,MAAKC,QAAL,CAAc,CACVK,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAAX,CAAkB,CADd,CAEVJ,QAAQ,CAAEF,UAAU,CAACE,QAFX,CAAd,EAJe,wDAfL,SAyBdK,gBAzBc,sEAyBK,qKACX,MAAKF,KAAL,CAAWC,IAAX,CAAkB,CAAlB,CAAsBE,IAAI,CAACC,IAAL,CAAU,MAAKJ,KAAL,CAAWF,YAAX,CAA0B,EAApC,CADX,0DAKPP,GALO,2HAKkH,MAAKS,KAAL,CAAWC,IAAX,CAAkB,CALpI,wCAMMT,CAAAA,KAAK,CAACD,GAAD,CANX,QAMPE,IANO,uCAOYA,CAAAA,IAAI,CAACC,IAAL,EAPZ,QAOPC,UAPO,gBAQX,MAAKC,QAAL,CAAc,CACVK,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAAX,CAAkB,CADd,CAEVJ,QAAQ,CAAEF,UAAU,CAACE,QAFX,CAAd,EARW,yDAzBL,GAEV,MAAKG,KAAL,CAAa,CACTH,QAAQ,CAAE,EADD,CAETI,IAAI,CAAE,CAFG,CAAb,CAFU,aAMb,C,uCAkCD,iBAAS,CACL,mBACI,uBACK,KAAKD,KAAL,CAAWH,QAAX,CAAoBQ,GAApB,CAAwB,SAACC,IAAD,qBACrB,KAAC,IAAD,EAA6B,MAAM,CAAEA,IAAI,CAACC,UAA1C,CAAsD,OAAO,CAAED,IAAI,CAACf,GAApE,CAAyE,KAAK,CAAEe,IAAI,CAACE,KAArF,CAA4F,WAAW,CAAEF,IAAI,CAACG,WAA9G,EAAWH,IAAI,CAACG,WAAhB,CADqB,EAAxB,CADL,cAKI,YAAK,aAAW,yBAAhB,uBACI,YAAI,SAAS,CAAC,qDAAd,wBACI,WAAI,SAAS,CAAC,WAAd,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uBAAhC,CAAwD,QAAQ,CAAE,KAAKT,KAAL,CAAWC,IAAX,EAAmB,CAArF,CAAwF,OAAO,CAAE,KAAKF,gBAAtG,8BADJ,EADJ,cAII,WAAI,SAAS,CAAC,WAAd,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uBAAhC,CAAwD,OAAO,CAAE,KAAKG,gBAAtE,yBADJ,EAJJ,GADJ,EALJ,GADJ,CAkBH,C,kBA7Dcf,S,EAgEnB,cAAeE,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport Card from './Card';\n\nclass Body extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            articles: [],\n            page: 1\n        }\n    }\n\n    componentDidMount = async () => {\n        let url = 'https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=1&pagesize=10';\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        this.setState({ articles: parsedData.articles, totalResults: parsedData.totalResults });\n    };\n\n    prevClickHandler = async () => {\n        let url = `https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=${this.state.page - 1}&pagesize=10`;\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        this.setState({\n            page: this.state.page - 1,\n            articles: parsedData.articles\n        });\n    };\n\n    nextClickHandler = async () => {\n        if (this.state.page + 1 > Math.ceil(this.state.totalResults / 10)) {\n\n        }\n        else {\n            let url = `https://newsapi.org/v2/top-headlines?country=us&catagory=bussiness&apiKey=928306523b81417ab3d4375bce7485b0&page=${this.state.page + 1}&pagesize=10`;\n            let data = await fetch(url);\n            let parsedData = await data.json();\n            this.setState({\n                page: this.state.page + 1,\n                articles: parsedData.articles\n            });\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                {this.state.articles.map((item) =>\n                    <Card key={item.description} imgUrl={item.urlToImage} newsUrl={item.url} title={item.title} description={item.description} />\n                )}\n\n                <nav aria-label=\"Page navigation example\">\n                    <ul className=\"pagination container d-flex justify-content-between\">\n                        <li className=\"page-item\">\n                            <button type='button' className=\"btn btn-outline-light\" disabled={this.state.page <= 1} onClick={this.prevClickHandler}> &larr; Previous</button>\n                        </li>\n                        <li className=\"page-item\">\n                            <button type='button' className=\"btn btn-outline-light\" onClick={this.nextClickHandler}>Next &rarr;</button>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        );\n    }\n}\n\nexport default Body"]},"metadata":{},"sourceType":"module"}